<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>My Portfolio</title>
    
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/swiper@11/swiper-bundle.min.css" />
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">

    <style>
        @import url('https://fonts.googleapis.com/css2?family=Noto+Sans+KR:wght@300;500;700&display=swap');

        body {
            font-family: 'Noto Sans KR', sans-serif;
            background: #000;
            margin: 0;
            padding: 0;
            height: 100vh;
            overflow: hidden;
        }

        .swiper-container-h, .swiper-container-v, .swiper-slide {
            width: 100%; height: 100%;
        }

        .swiper-slide {
            display: flex; flex-direction: column;
            align-items: center; justify-content: center;
            position: relative; overflow: hidden;
        }

        .slide-bg {
            position: absolute; left: 0; top: 0;
            width: 130%; height: 130%;
            background-size: cover; background-position: center;
            filter: blur(15px) brightness(0.7);
            z-index: -1; transform: translate(-15%, -15%);
        }

        .artwork-container {
            position: relative; width: 80%; max-width: 400px;
            border-radius: 12px; overflow: hidden;
            box-shadow: 0 20px 50px rgba(0,0,0,0.5);
            transform-style: preserve-3d;
        }

        .ratio-portrait { aspect-ratio: 3/4; }
        .ratio-landscape { aspect-ratio: 4/3; }
        .ratio-square { aspect-ratio: 1/1; }

        .artwork-image { width: 100%; height: 100%; object-fit: cover; }

        .text-container {
            margin-top: 2rem; text-align: center; z-index: 10;
            text-shadow: 0 2px 10px rgba(0,0,0,0.3); padding: 0 20px;
        }

        /* Sidebar */
        .sidebar-menu {
            position: fixed; left: 20px; top: 50%;
            transform: translateY(-50%); z-index: 40;
            display: flex; flex-direction: column; gap: 15px;
        }

        .category-btn {
            width: 50px; height: 50px;
            border: 1px solid rgba(255, 255, 255, 0.3);
            border-radius: 12px; backdrop-filter: blur(4px);
            display: flex; align-items: center; justify-content: center;
            cursor: pointer; transition: all 0.3s ease;
            background: rgba(255, 255, 255, 0.05);
        }

        .category-btn svg {
            width: 28px; height: 28px; fill: currentColor;
            opacity: 0.6; transition: all 0.3s ease;
        }

        .category-btn.active {
            border-color: currentColor; background: rgba(255, 255, 255, 0.2);
            transform: scale(1.1);
        }
        .category-btn.active svg { opacity: 1; }

        /* Themes */
        body.theme-light .category-btn { border-color: rgba(0,0,0,0.2); color: #000; }
        body.theme-light .text-container, body.theme-light nav { color: #000; text-shadow: none; }
        body.theme-dark .category-btn { border-color: rgba(255,255,255,0.3); color: #fff; }
        body.theme-dark .text-container, body.theme-dark nav { color: #fff; }

        /* Bio Styles */
        .bio-scroll-container {
            width: 100%; height: 100%; overflow-y: auto;
            padding: 100px 20px 50px 20px;
            scrollbar-width: none; -ms-overflow-style: none;
        }
        .bio-scroll-container::-webkit-scrollbar { display: none; }
        .bio-grid-item img {
            width: 100%; aspect-ratio: 1/1; object-fit: cover;
            border-radius: 8px; margin-bottom: 8px;
            box-shadow: 0 4px 6px rgba(0,0,0,0.3);
        }
    </style>
</head>
<body class="theme-dark">

    <!-- Nav -->
    <nav class="fixed top-0 left-0 w-full z-50 flex justify-between items-center p-4 md:p-6 transition-colors duration-300">
        <div class="flex items-center gap-3 md:gap-6 pl-2 md:pl-16">
            <div class="text-lg md:text-xl font-bold tracking-widest uppercase whitespace-nowrap">MY BRAND</div>
        </div>
        <div class="flex gap-4 md:gap-6 text-xl md:text-2xl">
            <a href="#" class="hover:opacity-70 transition"><i class="fa-brands fa-instagram"></i></a>
            <a href="#" class="hover:opacity-70 transition"><i class="fa-brands fa-line"></i></a>
        </div>
    </nav>

    <!-- Sidebar (JS로 생성됨) -->
    <aside class="sidebar-menu" id="sidebar-container"></aside>

    <!-- Main Swiper (JS로 생성됨) -->
    <div class="swiper swiper-container-h">
        <div class="swiper-wrapper" id="main-swiper-wrapper"></div>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/swiper@11/swiper-bundle.min.js"></script>

    <script>
        // ==========================================
        // [데이터 관리 영역] 여기서 내용만 수정하세요!
        // ==========================================
        const categoryData = [
            {
                id: 'poodle',
                name: 'Poodle',
                icon: 'M12,2A4,4,0,0,1,16,6V7H17A4,4,0,0,1,21,11V14H19V17H17V14H15V19H9V14H7V17H5V14H3V11A4,4,0,0,1,7,7H8V6A4,4,0,0,1,12,2M12,4A2,2,0,0,0,10,6V7H14V6A2,2,0,0,0,12,4M7,9A2,2,0,0,0,5,11V12H9V11A2,2,0,0,0,7,9M17,9A2,2,0,0,0,15,11V12H19V11A2,2,0,0,0,17,9Z',
                slides: [
                    { theme: 'dark', ratio: 'ratio-portrait', img: 'https://images.unsplash.com/photo-1583511655857-d19b40a7a54e?q=80&w=2069', title: 'Poodle 01', desc: 'The Classic' },
                    { theme: 'light', ratio: 'ratio-square', img: 'https://images.unsplash.com/photo-1605244863941-c7e14f4886cc?q=80&w=2070', title: 'Poodle 02', desc: 'Snow White' },
                    { theme: 'dark', ratio: 'ratio-landscape', img: 'https://images.unsplash.com/photo-1516382799247-87df95d790b7?q=80&w=2074', title: 'Poodle 03', desc: 'Field Run' },
                    { theme: 'dark', ratio: 'ratio-portrait', img: 'https://images.unsplash.com/photo-1591768575198-88dac53fbd0a?q=80&w=1974', title: 'Poodle 04', desc: 'Sunset' },
                ]
            },
            {
                id: 'retriever',
                name: 'Retriever',
                icon: 'M4,9C4,9 3,14 5,16C5,16 6,18 8,16L8,19H16L16,16C18,18 19,16 19,16C21,14 20,9 20,9C20,9 18,5 12,5C6,5 4,9 4,9M9,11A1,1 0 0,1 10,12A1,1 0 0,1 9,13A1,1 0 0,1 8,12A1,1 0 0,1 9,11M15,11A1,1 0 0,1 16,12A1,1 0 0,1 15,13A1,1 0 0,1 14,12A1,1 0 0,1 15,11Z',
                slides: [
                    { theme: 'dark', ratio: 'ratio-landscape', img: 'https://images.unsplash.com/photo-1552053831-71594a27632d?q=80&w=1862', title: 'Retriever 01', desc: 'Golden Smile' },
                    { theme: 'dark', ratio: 'ratio-portrait', img: 'https://images.unsplash.com/photo-1518717758536-85ae29035b6d?q=80&w=2070', title: 'Retriever 02', desc: 'Playful' },
                    { theme: 'dark', ratio: 'ratio-square', img: 'https://images.unsplash.com/photo-1610243625458-18e3924f3b14?q=80&w=1974', title: 'Retriever 03', desc: 'Winter Walk' },
                    { theme: 'light', ratio: 'ratio-landscape', img: 'https://images.unsplash.com/photo-1522276498395-f4f68f7f8454?q=80&w=2069', title: 'Retriever 04', desc: 'Puppy Love' },
                ]
            },
            {
                id: 'shiba',
                name: 'Shiba',
                icon: 'M12,3L9,9H15L12,3M5,9L2,14C2,14 2,17 5,17L5,20H9L9,17H15L15,20H19L19,17C22,17 22,14 22,14L19,9H5M8,12A1,1 0 0,1 9,13A1,1 0 0,1 8,14A1,1 0 0,1 7,13A1,1 0 0,1 8,12M16,12A1,1 0 0,1 17,13A1,1 0 0,1 16,14A1,1 0 0,1 15,13A1,1 0 0,1 16,12Z',
                slides: [
                    { theme: 'dark', ratio: 'ratio-square', img: 'https://images.unsplash.com/photo-1563889958749-625d97f39443?q=80&w=1943', title: 'Shiba 01', desc: 'Tokyo Vibes' },
                    { theme: 'dark', ratio: 'ratio-portrait', img: 'https://images.unsplash.com/photo-1554692992-e4783cb2e764?q=80&w=1974', title: 'Shiba 02', desc: 'Sakura' },
                    { theme: 'dark', ratio: 'ratio-landscape', img: 'https://images.unsplash.com/photo-1560961911-29362a265636?q=80&w=1974', title: 'Shiba 03', desc: 'Running Free' },
                    { theme: 'light', ratio: 'ratio-square', img: 'https://images.unsplash.com/photo-1628151016592-7cb667634d28?q=80&w=1974', title: 'Shiba 04', desc: 'White Fur' },
                ]
            },
            {
                id: 'cat',
                name: 'Cat',
                icon: 'M12,8L10.67,8.5C10.22,7.3 9.46,6.27 8.5,5.5L10,2L12,5L14,2L15.5,5.5C14.54,6.27 13.78,7.3 13.33,8.5L12,8M3,22H21V20H3V22M6,19H18C19.1,19 20,18.1 20,17V10C20,8.34 18.66,7 17,7H7C5.34,7 4,8.34 4,10V17C4,18.1 4.9,19 6,19M9,11A1.5,1.5 0 0,1 10.5,12.5A1.5,1.5 0 0,1 9,14A1.5,1.5 0 0,1 7.5,12.5A1.5,1.5 0 0,1 9,11M15,11A1.5,1.5 0 0,1 16.5,12.5A1.5,1.5 0 0,1 15,14A1.5,1.5 0 0,1 13.5,12.5A1.5,1.5 0 0,1 15,11Z',
                slides: [
                    { theme: 'light', ratio: 'ratio-portrait', img: 'https://images.unsplash.com/photo-1514888286974-6c03e2ca1dba?q=80&w=2043', title: 'Cat 01', desc: 'Mystic Eyes' },
                    { theme: 'dark', ratio: 'ratio-landscape', img: 'https://images.unsplash.com/photo-1573865526739-10659fec78a5?q=80&w=2030', title: 'Cat 02', desc: 'Night Hunter' },
                    { theme: 'dark', ratio: 'ratio-square', img: 'https://images.unsplash.com/photo-1492370284958-c20b15c692d2?q=80&w=2049', title: 'Cat 03', desc: 'Curiosity' },
                    { theme: 'light', ratio: 'ratio-portrait', img: 'https://images.unsplash.com/photo-1519052537078-e6302a4968d4?q=80&w=2070', title: 'Cat 04', desc: 'Royal Gaze' },
                ]
            },
            {
                id: 'bio',
                name: 'Biography',
                type: 'bio', // 특별 페이지
                icon: 'M12,4A4,4,0,0,1,16,8A4,4,0,0,1,12,12A4,4,0,0,1,8,8A4,4,0,0,1,12,4M12,14C16.42,14 20,15.79 20,18V20H4V18C4,15.79 7.58,14 12,14Z',
                bioData: {
                    bg: 'https://images.unsplash.com/photo-1491895200222-0fc4a4c35e18?q=80&w=1974',
                    history: [
                        { title: '서울 모던 아트전', date: '2023. 10. 15', img: 'https://images.unsplash.com/photo-1547891654-e66ed7ebb968?q=80&w=2070' },
                        { title: '부산 비엔날레', date: '2023. 12. 01', img: 'https://images.unsplash.com/photo-1549490349-8643362247b5?q=80&w=2187' },
                        { title: 'Spring Awakening', date: '2024. 03. 20', img: 'https://images.unsplash.com/photo-1578301978693-85fa9c0320b9?q=80&w=1958' },
                        { title: 'Summer Breeze', date: '2024. 07. 10', img: 'https://images.unsplash.com/photo-1579783902614-a3fb3927b6a5?q=80&w=2045' },
                        { title: 'Dog & Life 展', date: '2024. 11. 15', img: 'https://images.unsplash.com/photo-1583511655857-d19b40a7a54e?q=80&w=2069' },
                        { title: 'My Lovely Cat', date: '2025. 01. 05', img: 'https://images.unsplash.com/photo-1514888286974-6c03e2ca1dba?q=80&w=2043' },
                    ]
                }
            }
        ];

        // ==========================================
        // [로직 영역] 아래는 건드리지 않아도 됩니다.
        // ==========================================

        const mainSwiperWrapper = document.getElementById('main-swiper-wrapper');
        const sidebarContainer = document.getElementById('sidebar-container');

        // 1. 렌더링 함수: 데이터 기반으로 HTML 생성
        categoryData.forEach((cat, index) => {
            // 사이드바 버튼 생성
            const btn = document.createElement('button');
            btn.className = `category-btn ${index === 0 ? 'active' : ''}`;
            btn.onclick = () => goToCategory(index);
            btn.innerHTML = `<svg viewBox="0 0 24 24"><path d="${cat.icon}"/></svg>`;
            sidebarContainer.appendChild(btn);

            // 가로 슬라이드 (카테고리 래퍼) 생성
            const hSlide = document.createElement('div');
            hSlide.className = 'swiper-slide';
            
            // BIO 페이지(단일 슬라이드)인지 일반 갤러리(세로 슬라이드)인지 구분
            if (cat.type === 'bio') {
                hSlide.setAttribute('data-theme', 'dark');
                hSlide.innerHTML = `
                    <div class="slide-bg" style="background-image: url('${cat.bioData.bg}'); filter: blur(20px) brightness(0.5);" data-swiper-parallax="50%"></div>
                    <div class="bio-scroll-container text-white">
                        <div class="max-w-2xl mx-auto">
                            <h1 class="text-4xl font-bold mb-2 text-center" data-swiper-parallax="-300">Biography</h1>
                            <p class="text-center text-gray-400 mb-12 text-sm" data-swiper-parallax="-200">Exhibition History & Life</p>
                            <div class="grid grid-cols-2 gap-4 pb-10" data-swiper-parallax="-100">
                                ${cat.bioData.history.map(item => `
                                    <div class="bio-grid-item">
                                        <img src="${item.img}" alt="${item.title}">
                                        <div class="text-xs">
                                            <div class="font-bold">${item.title}</div>
                                            <div class="text-gray-400">${item.date}</div>
                                        </div>
                                    </div>
                                `).join('')}
                            </div>
                            <div class="text-center text-xs text-gray-500 pb-10">&copy; 2026 My Brand Portfolio.</div>
                        </div>
                    </div>
                `;
            } else {
                // 일반 갤러리: 세로 Swiper 구조 생성
                let vSlidesHTML = cat.slides.map(slide => `
                    <div class="swiper-slide" data-theme="${slide.theme}">
                        <div class="slide-bg" style="background-image: url('${slide.img}'); ${slide.theme==='light' ? 'filter: blur(15px) brightness(1.2);' : ''}" data-swiper-parallax="50%"></div>
                        <div class="artwork-container ${slide.ratio}">
                            <img src="${slide.img}" class="artwork-image">
                        </div>
                        <div class="text-container" data-swiper-parallax="-200">
                            <h2 class="text-3xl font-bold mb-2">${slide.title}</h2>
                            <p class="text-sm opacity-80">${slide.desc}</p>
                        </div>
                    </div>
                `).join('');

                hSlide.innerHTML = `
                    <div class="swiper swiper-container-v">
                        <div class="swiper-wrapper">
                            ${vSlidesHTML}
                        </div>
                        <div class="swiper-pagination"></div>
                    </div>
                `;
            }
            mainSwiperWrapper.appendChild(hSlide);
        });

        // 2. Swiper 초기화
        var swiperH = new Swiper(".swiper-container-h", {
            spaceBetween: 50, direction: 'horizontal', effect: 'slide', speed: 600,
            on: {
                slideChange: function () {
                    updateActiveButton(this.activeIndex);
                    updateThemeColor();
                }
            }
        });

        var swiperV = new Swiper(".swiper-container-v", {
            direction: "vertical", spaceBetween: 0, mousewheel: true, parallax: true,
            speed: 1000, nested: true, touchRatio: 1.2, resistanceRatio: 0.65,
            on: { slideChange: function () { updateThemeColor(); } }
        });

        // 3. 기능 함수들
        function goToCategory(index) { swiperH.slideTo(index); }

        function updateActiveButton(index) {
            const btns = document.querySelectorAll('.category-btn');
            btns.forEach(b => b.classList.remove('active'));
            if(btns[index]) btns[index].classList.add('active');
        }

        function updateThemeColor() {
            const activeHSlide = document.querySelectorAll('.swiper-container-h > .swiper-wrapper > .swiper-slide')[swiperH.activeIndex];
            if (!activeHSlide) return;

            // BIO 페이지인지 체크
            if (activeHSlide.getAttribute('data-theme')) {
                applyTheme(activeHSlide.getAttribute('data-theme'));
                return;
            }

            // 내부 세로 슬라이드 테마 체크
            const activeVSlide = activeHSlide.querySelector('.swiper-slide-active');
            if (activeVSlide) {
                applyTheme(activeVSlide.getAttribute('data-theme'));
            }
        }

        function applyTheme(theme) {
            const body = document.body;
            if (theme === 'light') {
                body.classList.remove('theme-dark'); body.classList.add('theme-light');
            } else {
                body.classList.remove('theme-light'); body.classList.add('theme-dark');
            }
        }

        setTimeout(updateThemeColor, 100);
    </script>
</body>
</html>